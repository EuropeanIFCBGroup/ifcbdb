{% extends 'base.html' %} {% block content %}
<div class="row">
    <div class="col">
        <h1>Locate a Dataset</h1>
    </div>
</div>
<hr class="my-3">
<div class="row">
    <div class="col-xs-12 col-lg-8">
        <div class="card">
            <div class="card-body text-primary">
                <div class="row">
                    <div class="col-xs-12 col-md-4 col-lg-6 col-xl-4 order-2 order-md-1 pt-2 pt-md-0">
                        <form class="form">

                            <div class="form-group">
                                <label for="searchByTag">Tag / Keyword:</label>
                                <input type="text" class="form-control" id="searchByTag">
                            </div>


                            <div class="form-group">
                                <label for="startDate">Start Date:</label>
                                <input type="text" id="startDate" class="form-control">
                            </div>
                            <div class="form-group">
                                <label for="endDate">End Date:</label>
                                <input type="text" id="endDate" class="form-control">
                            </div>


                            <div class="form-group">
                                <label for="minDepth">Min Depth:</label>
                                <input type="text" class="form-control" id="minDepth">
                            </div>
                            <div class="form-group">
                                <label for="maxDepth">Max Depth:</label>
                                <input type="text" class="form-control" id="maxDepth">
                            </div>
                            <button type="submit" class="btn btn-primary btn-block">Search</button>
                        </form>
                    </div>
                    <div class="col-xs-12 col-md-8 col-lg-6 col-xl-8 order-1 order-md-2">
                        <div id="mapid" style="height:500px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-12 col-lg-4 pt-3 pt-lg-0">
        <div class="card">
            <div class="card-header">
                <h2>Datasets:</h2>
            </div>
            <div class="card-body overflow-auto" style="max-height:450px">
                <ul class="list-group">
                    {% for dataset in datasets %}
                    <li class="list-group-item">
                        <a href="{% url 'dataset' dataset.name %}">{{ dataset.name }}</a>
                    </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    var mymap = L.map('mapid').setView([51.505, -0.09], 13);

    L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
        maxZoom: 18,
        attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
            '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
            'Imagery Â© <a href="https://www.mapbox.com/">Mapbox</a>',
        id: 'mapbox.streets'
    }).addTo(mymap);
</script>
{% endblock %}